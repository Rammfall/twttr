version: 2.1

name: Node.js application

on:
  push:
    branches:
      - master
      - develop
      - 'feature/**'
      - 'bugfix/**'
      - 'hotfix/**'
    paths:
      - 'src/**'
  schedule:
    - cron: '* 0 * * *'

executors:
  node:
    working_directory: ~/twttr
    docker:
      - image: circleci/node:14.16.1

jobs:
  serverApplication:
    executor: node
    working_directory: ~/twttr/application
    steps:
      - checkout
      - run:
          command: npm ci
          name: Installing dependencies

workflows:
  build:
    jobs:
      - serverApplication
